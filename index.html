<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login & Portal Kegelapan</title>
<style>
  body {
    font-family: sans-serif;
    margin: 0;
    padding: 0;
    background-color: #111;
    color: #f00;
  }
  .center {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }
  .form-box {
    background: #fff;
    color: #000;
    padding: 25px;
    border-radius: 12px;
    width: 300px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  }
  .form-box h2 {
    text-align: center;
    margin-bottom: 15px;
  }
  input {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
    border-radius: 8px;
    border: 1px solid #ccc;
  }
  button {
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 8px;
    background: #3498db;
    color: white;
    font-weight: bold;
    cursor: pointer;
  }
  button:hover {
    background: #2980b9;
  }
  #portal {
    display: none;
    padding: 20px;
    max-width: 800px;
    margin: auto;
    text-align: center;
  }
  .output {
    margin-top: 20px;
    background: #111;
    color: #0f0;
    padding: 15px;
    border-radius: 10px;
    border: 2px solid #f00;
    white-space: pre-wrap;
  }
</style>
</head>
<body>

<div class="center" id="auth">
  <div class="form-box" id="login-box">
    <h2>Login</h2>
    <input type="text" id="login-user" placeholder="Username" required>
    <input type="password" id="login-pass" placeholder="Password" required>
    <button onclick="login()">Login</button>
    <p>Belum punya akun? <a href="#" onclick="showRegister()">Daftar</a></p>
  </div>
  <div class="form-box" id="register-box" style="display:none;">
    <h2>Register</h2>
    <input type="text" id="reg-user" placeholder="Username" required>
    <input type="password" id="reg-pass" placeholder="Password" required>
    <button onclick="register()">Daftar</button>
    <p>Sudah punya akun? <a href="#" onclick="showLogin()">Login</a></p>
  </div>
</div>

<div id="portal">
  <h1>â¸¸ Portal Kegelapan â¸¸</h1>
  <input type="text" id="target" placeholder="Nomor Target">
  <button onclick="acakTarget()">ðŸŽ² Acak Nomor</button>
  <button onclick="toggleMode()">ðŸŒ™ Ganti Mode</button>
  <div class="output" id="output">â¸¸ Siap menerima perintah... â¸¸</div>
  <br>
  <button onclick="logout()">ðŸšª Logout</button>
</div>

<script>
  let darkMode = true;

  function showRegister(){
    document.getElementById('login-box').style.display = 'none';
    document.getElementById('register-box').style.display = 'block';
  }
  function showLogin(){
    document.getElementById('register-box').style.display = 'none';
    document.getElementById('login-box').style.display = 'block';
  }

  function register(){
    const user = document.getElementById('reg-user').value;
    const pass = document.getElementById('reg-pass').value;
    if(user && pass){
      localStorage.setItem('user_'+user, pass);
      alert("Akun berhasil dibuat!");
      showLogin();
    } else {
      alert("Isi semua kolom!");
    }
  }

  function login(){
    const user = document.getElementById('login-user').value;
    const pass = document.getElementById('login-pass').value;
    const storedPass = localStorage.getItem('user_'+user);

    // Akun default
    if(user === "Budi" && pass === "1245"){
      localStorage.setItem('loggedIn', user);
      masukPortal();
      return;
    }

    if(storedPass && storedPass === pass){
      localStorage.setItem('loggedIn', user);
      masukPortal();
    } else {
      alert("Username atau password salah!");
    }
  }

  function masukPortal(){
    document.getElementById('auth').style.display = 'none';
    document.getElementById('portal').style.display = 'block';
  }

  function logout(){
    localStorage.removeItem('loggedIn');
    location.reload();
  }

  function acakTarget(){
    let nomor = "+62" + Math.floor(8000000000 + Math.random() * 999999999);
    document.getElementById('target').value = nomor;
    document.getElementById('output').innerText = "Nomor acak: " + nomor;
  }

  function toggleMode(){
    darkMode = !darkMode;
    if(darkMode){
      document.body.style.background = "#111";
      document.body.style.color = "#f00";
    } else {
      document.body.style.background = "#f5f5f5";
      document.body.style.color = "#000";
    }
  }

  // Auto login jika sudah login sebelumnya
  window.onload = function(){
    const logged = localStorage.getItem('loggedIn');
    if(logged){
      masukPortal();
    }
  }
</script>

</body>
</html>